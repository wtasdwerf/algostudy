# TIL양식

# 쇠막대기 자르기

> 출처 : [https://swexpertacademy.com/main/solvingProblem/solvingProblem.do](https://swexpertacademy.com/main/talk/solvingClub/problemView.do?solveclubId=AYmbBU3a7cwDFAUe&contestProbId=AWVl47b6DGMDFAXm&probBoxId=AYmbBnEa7eMDFAUe&type=PROBLEM&problemBoxTitle=EXTRAS&problemBoxCnt=7)
> 

## 문제

> 여러 개의 쇠막대기를 레이저로 절단하려고 한다.
> 
> 
> 효율적인 작업을 위해서 쇠막대기를 아래에서 위로 겹쳐 놓고, 레이저를 위에서 수직으로 발사하여 쇠막대기들을 자른다.
> 
> 쇠막대기와 레이저의 배치는 다음 조건을 만족한다.
> 
> - 쇠막대기는 자신보다 긴 쇠막대기 위에만 놓일 수 있다.
> - 쇠막대기를 다른 쇠막대기 위에 놓는 경우 완전히 포함되도록 놓되, 끝점은 겹치지 않도록 놓는다.
> - 각 쇠막대기를 자르는 레이저는 적어도 하나 존재한다.
> - 레이저는 어떤 쇠막대기의 양 끝점과도 겹치지 않는다.
> 
> 이러한 레이저와 쇠막대기의 배치는 다음과 같이 괄호를 이용하여 왼쪽부터 순서대로 표현할 수 있다.
> 
> 1. 레이저는 여는 괄호와 닫는 괄호의 인접한 쌍 “()” 으로 표현된다. 또한, 모든 “()”는 반드시 레이저를 표현한다.
> 
> 2. 쇠막대기의 왼쪽 끝은 여는 괄호 ‘(’ 로, 오른쪽 끝은 닫힌 괄호 ‘)’ 로 표현된다.
> 
> 쇠막대기와 레이저의 배치를 나타내는 괄호 표현이 주어졌을 때, 잘려진 쇠막대기 조각의 총 개수를 구하는 프로그램을 작성하라.
> 

## 풀이

```python
T = int(input())
for tc in range(1, T+1):
    s = input().strip() # 괄호 문자열
    cnt = 0  # 겹쳐진 쇠 막대기의 수
    ans = 0  # 답
    flag = False  # 레이져인지 판단하기 위한 플래그
    for c in s:
        # '('가 나오면 쇠 막대기가 하나 추가 된다.
        if c == '(':
            cnt += 1
            flag = True
        else:
            # 레이져이면 쇠 막대기의 갯수를 맞추기 위해 아니면 쇠 막대기가 하나 감소하므로 1 감소
            cnt -= 1
            if flag:  # 레이져이면 쇠 막대기 수만 큼 조각이 나온다.
                ans += cnt
            else:  # 쇠막대기의 끝 부분이면 그 막대기의 조각 하나가 나온다.
                ans += 1
            flag = False

    print(f'#{tc} {ans}')
```

> 문자열을 순서대로 훑어 보면서 현재 위치에 쌓여있는 쇠막대기의 갯수를 관리합니다. ‘(’는 쇠막대기의 시작 부분 또는 레이져의 일부 이므로 cnt를 1 증가 시켜 줍니다. ‘)’ 는 레이져의 일부 또는 쇠막대기의 끝 부분 입니다 그래서 ‘)’가 나오면 레이져의 일부라면 cnt가 쇠막대기의 갯수랑 동일해지게, 쇠막대기의 끝 부분이라면 쇠 막대기 수가 1 감소하므오 cnt를 1 감소 시킵니다.
그리고 레이져라면 cnt개 만큼 쇠 막대기가 겹쳐져 있으므로 조각의 수는 cnt만큼 늘 것이고 쇠막대기 끝 부분이라면 막대의 남은 부분이 한 조각으로 추가 됩니다. 이를 이용해 계산 해주면 답을 구할 수 있습니다.
> 

## 의문점

## 배운점

> TIL
>